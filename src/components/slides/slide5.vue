<template>
  <div class="membership-page">
    <!-- å¤´éƒ¨æ ‡é¢˜åŒºåŸŸ -->
    <div class="header">
      <h1>ä¼šå‘˜ä¸“äº«æƒç›Šï¼Œå¼€å¯æ™ºèƒ½è´­ç‰©æ–°ä½“éªŒ</h1>
      <p>æˆä¸ºä¼šå‘˜ï¼Œäº«å—ä¸ªæ€§åŒ–æœåŠ¡ä¸ä¸“å±ä¼˜æƒ </p>
    </div>

    <!-- ä¼šå‘˜ç­‰çº§æ¦‚è§ˆ -->
    <div class="membership-overview">
      <h3>ä¼šå‘˜ç­‰çº§</h3>
      <div class="level-grid">
        <div class="level-item" :class="{ active: currentMembership === 'regular' }">
          <div class="level-icon">ğŸ“±</div>
          <h4>æ™®é€šç”¨æˆ·</h4>
          <p>å…è´¹ä½¿ç”¨ï¼ŒåŸºç¡€æƒç›Š</p>
        </div>
        <div class="level-item" :class="{ active: currentMembership === 'silver' }">
          <div class="level-icon">ğŸ’</div>
          <h4>ç™½é“¶ä¼šå‘˜</h4>
          <p>Â¥49.9/æœˆï¼Œè¿›é˜¶æƒç›Š</p>
        </div>
        <div class="level-item featured" :class="{ active: currentMembership === 'gold' }">
          <div class="level-icon">âœ¨</div>
          <h4>é»„é‡‘ä¼šå‘˜</h4>
          <p>Â¥99.9/æœˆï¼Œçƒ­é—¨é€‰æ‹©</p>
        </div>
        <div class="level-item" :class="{ active: currentMembership === 'diamond' }">
          <div class="level-icon">ğŸ‘‘</div>
          <h4>é’»çŸ³ä¼šå‘˜</h4>
          <p>Â¥199.9/æœˆï¼Œå°Šäº«æƒç›Š</p>
        </div>
      </div>
    </div>

    <!-- æ–°å¢ï¼šAIæ™ºèƒ½æ´å¯Ÿä¸ç«äº‰å¯¹æ‰‹åˆ†æå®¹å™¨ -->
    <div class="intelligence-container">
      <div class="ai-intelligence">
        <div class="section-header">
          <h2>AIæ™ºèƒ½æ´å¯Ÿ</h2>
          <div class="badges">
            <span class="badge gold-badge">é»„é‡‘åŠä»¥ä¸Š</span>
            <span class="badge ai-badge">AIé©±åŠ¨</span>
          </div>
        </div>

        <!-- å®¢æµé‡é«˜å³°é¢„æµ‹ -->
        <div class="insight-card traffic-card">
          <div class="card-header">
            <span class="card-icon">ğŸ”</span>
            <h3>å®¢æµé‡é«˜å³°é¢„æµ‹</h3>
            <span class="tag suggestion-tag">è¿è¥å»ºè®®</span>
          </div>
          <div class="card-content">
            <p>é¢„è®¡æœ¬å‘¨äº”18:00-20:00å°†å‡ºç°å®¢æµé‡é«˜å³°ï¼Œå»ºè®®å¢åŠ 2åæœåŠ¡äººå‘˜ã€‚</p>
            <p class="premium-info" v-if="['gold', 'diamond'].includes(currentMembership)">ğŸ’ é’»çŸ³ä¼šå‘˜å¯æŸ¥çœ‹è¯¦ç»†çš„å®¢æµé‡é¢„æµ‹æ¨¡å‹å’Œäººå‘˜æ’ç­å»ºè®®
            </p>
            <p class="upgrade-prompt" v-else>å‡çº§è‡³<span class="highlight">é»„é‡‘ä¼šå‘˜</span>å³å¯æŸ¥çœ‹å®Œæ•´æ´å¯Ÿ</p>
          </div>
        </div>

        <!-- æœåŠ¡ä¼˜åŒ–å»ºè®® -->
        <div class="insight-card service-card">
          <div class="card-header">
            <span class="card-icon">ğŸ“ˆ</span>
            <h3>æœåŠ¡ä¼˜åŒ–å»ºè®®</h3>
            <span class="tag flow-tag">æµç¨‹ä¼˜åŒ–</span>
          </div>
          <div class="card-content">
            <p>ç”¨æˆ·å¯¹"ç­‰å¾…æ—¶é—´è¿‡é•¿"çš„åé¦ˆå¢åŠ äº†15%ï¼Œå»ºè®®ä¼˜åŒ–æœåŠ¡æµç¨‹æˆ–å¢åŠ è‡ªåŠ©æœåŠ¡è®¾å¤‡ã€‚</p>
            <p class="premium-info" v-if="['gold', 'diamond'].includes(currentMembership)">ğŸ’
              é’»çŸ³ä¼šå‘˜å¯è·å–AIç”Ÿæˆçš„è¯¦ç»†æµç¨‹ä¼˜åŒ–æ–¹æ¡ˆå’ŒæŠ•èµ„å›æŠ¥åˆ†æ</p>
            <p class="upgrade-prompt" v-else>å‡çº§è‡³<span class="highlight">é»„é‡‘ä¼šå‘˜</span>å³å¯æŸ¥çœ‹å®Œæ•´æ´å¯Ÿ</p>
          </div>
        </div>

        <!-- å®¢æˆ·ç¾¤ä½“åˆ†æ -->
        <div class="insight-card customer-card">
          <div class="card-header">
            <span class="card-icon">ğŸ‘¥</span>
            <h3>å®¢æˆ·ç¾¤ä½“åˆ†æ</h3>
            <span class="tag marketing-tag">è¥é”€å»ºè®®</span>
          </div>
          <div class="card-content">
            <p>25-35å²å¥³æ€§å®¢æˆ·æ»¡æ„åº¦æœ€é«˜ï¼Œä½†å›å¤´ç‡ä½äºå¹³å‡æ°´å¹³ï¼Œå»ºè®®æ¨å‡ºé’ˆå¯¹æ€§ä¼šå‘˜æ´»åŠ¨ã€‚</p>
            <p class="premium-info" v-if="['gold', 'diamond'].includes(currentMembership)">ğŸ’ é’»çŸ³ä¼šå‘˜å¯æŸ¥çœ‹æ›´è¯¦ç»†çš„å®¢æˆ·ç”»åƒå’Œä¸ªæ€§åŒ–è¥é”€ç­–ç•¥
            </p>
            <p class="upgrade-prompt" v-else>å‡çº§è‡³<span class="highlight">é»„é‡‘ä¼šå‘˜</span>å³å¯æŸ¥çœ‹å®Œæ•´æ´å¯Ÿ</p>
          </div>
        </div>

        <!-- ä¼šå‘˜ä¸“å±æ´å¯Ÿ -->
        <div class="insight-card premium-card">
          <h3>ä¼šå‘˜ä¸“å±æ´å¯Ÿ</h3>
          <p v-if="['gold', 'diamond'].includes(currentMembership)">å‡çº§è‡³é’»çŸ³ä¼šå‘˜ï¼Œå¯è·å–æ›´å¤šAIé©±åŠ¨çš„ç»è¥æ´å¯Ÿå’Œä¸ªæ€§åŒ–ä¼˜åŒ–å»ºè®®</p>
          <p v-else>å‡çº§è‡³<span class="highlight">é»„é‡‘ä¼šå‘˜</span>å³å¯è§£é”AIæ™ºèƒ½æ´å¯ŸåŠŸèƒ½</p>
          <button class="generate-more-btn" @click="generateMoreInsights"
            :disabled="!['gold', 'diamond'].includes(currentMembership)">
            <span class="refresh-icon">ğŸ”„</span> ç”Ÿæˆæ›´å¤šæ´å¯Ÿ
          </button>
        </div>
      </div>

      <div class="competitor-analysis">
        <div class="section-header">
          <h2>ç«äº‰å¯¹æ‰‹å¯¹æ¯”åˆ†æ</h2>
          <div class="action-buttons">
            <select class="comparison-select" @change="handleComparisonChange($event)"
              :disabled="!['gold', 'diamond'].includes(currentMembership)">
              <option value="all">å…¨éƒ¨å¯¹æ¯”</option>
              <option value="traffic">å®¢æµé‡å¯¹æ¯”</option>
              <option value="satisfaction">æ»¡æ„åº¦å¯¹æ¯”</option>
              <option value="conversion">è½¬åŒ–ç‡å¯¹æ¯”</option>
              <option value="awareness">çŸ¥ååº¦å¯¹æ¯”</option>
            </select>
            <button class="export-btn" @click="exportReport"
              :disabled="!['gold', 'diamond'].includes(currentMembership)">
              <span class="export-icon">ğŸ“Š</span> å¯¼å‡ºæŠ¥å‘Š
            </button>
          </div>
        </div>

        <!-- å¯¹æ¯”æŒ‡æ ‡å¡ç‰‡ -->
        <div class="metrics-grid">
          <div class="metric-card traffic-metric">
            <p>å®¢æµé‡</p>
            <p class="metric-value">é«˜äºè¡Œä¸šå¹³å‡ 5%</p>
          </div>
          <div class="metric-card satisfaction-metric">
            <p>ç”¨æˆ·æ»¡æ„åº¦</p>
            <p class="metric-value">ä½äºç«äº‰å¯¹æ‰‹A 3%</p>
          </div>
          <div class="metric-card conversion-metric">
            <p>è½¬åŒ–ç‡</p>
            <p class="metric-value">é«˜äºè¡Œä¸šå¹³å‡ 2%</p>
          </div>
          <div class="metric-card awareness-metric">
            <p>å“ç‰ŒçŸ¥ååº¦</p>
            <p class="metric-value">ä½äºç«äº‰å¯¹æ‰‹B 7%</p>
          </div>
        </div>

        <!-- ç«äº‰ä¼˜åŠ£åŠ¿åˆ†æ -->
        <div class="analysis-content">
          <h3>ç«äº‰ä¼˜åŠ£åŠ¿åˆ†æ</h3>
          <ul class="analysis-list">
            <li class="strength">
              <span class="indicator">+</span>
              <p>å®¢æµé‡è¡¨ç°ä¼˜å¼‚ï¼Œé«˜äºè¡Œä¸šå¹³å‡æ°´å¹³5%ï¼Œåœ¨æœ¬åœ°å¸‚åœºå…·æœ‰è¾ƒå¼ºçš„å¸å¼•åŠ›</p>
            </li>
            <li class="strength">
              <span class="indicator">+</span>
              <p>å®¢å•ä»·å¤„äºé¢†å…ˆåœ°ä½ï¼Œæ¯”ä¸»è¦ç«äº‰å¯¹æ‰‹é«˜å‡º10%ï¼Œäº§å“å®šä»·ç­–ç•¥åˆç†</p>
            </li>
            <li class="weakness">
              <span class="indicator">-</span>
              <p>ç”¨æˆ·æ»¡æ„åº¦æœ‰å¾…æå‡ï¼Œç‰¹åˆ«æ˜¯åœ¨æœåŠ¡å“åº”é€Ÿåº¦æ–¹é¢ï¼Œæ¯”ç«äº‰å¯¹æ‰‹Aåä½çº¦15%</p>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <!-- æ–°å¢ï¼šå…¼èŒå²—ä½ç®¡ç†ï¼ˆå•†å®¶è§’è‰²+é»„é‡‘åŠä»¥ä¸Šä¼šå‘˜å¯è§ï¼‰ -->
    <div class="part-time-jobs" v-if="currentUser?.role === 'merchant' && ['gold', 'diamond'].includes(currentMembership)">
      <div class="jobs-header">
        <h2>å…¼èŒå²—ä½ç®¡ç†</h2>
        <div class="jobs-actions">
          <button class="add-job-btn" @click="showAddJobModal = true">å‘å¸ƒæ–°å²—ä½</button>
          <select class="job-filter">
            <option value="all">å…¨éƒ¨å²—ä½</option>
            <option value="active">è¿›è¡Œä¸­</option>
            <option value="paused">å·²æš‚åœ</option>
          </select>
        </div>
      </div>

      <div class="jobs-table">
        <div class="jobs-table-header">
          <div class="table-col job-name">å²—ä½åç§°</div>
          <div class="table-col job-type">å²—ä½ç±»å‹</div>
          <div class="table-col job-salary">è–ªèµ„èŒƒå›´</div>
          <div class="table-col job-date">å‘å¸ƒæ—¶é—´</div>
          <div class="table-col job-status">çŠ¶æ€</div>
          <div class="table-col job-actions">æ“ä½œ</div>
        </div>

        <div class="jobs-table-body">
          <div class="job-row highlighted">
            <div class="table-col job-name">é«˜çº§æœåŠ¡å‘˜</div>
            <div class="table-col job-type">å…¨èŒ</div>
            <div class="table-col job-salary">Â¥4000-6000</div>
            <div class="table-col job-date">2023-11-18</div>
            <div class="table-col job-status">
              <span class="status active">è¿›è¡Œä¸­</span>
            </div>
            <div class="table-col job-actions">
              <button class="action-btn edit-btn" @click="editJob(1)">âœï¸</button>
              <button class="action-btn delete-btn" @click="deleteJob(1)">ğŸ—‘ï¸</button>
            </div>
          </div>

          <div class="job-row highlighted">
            <div class="table-col job-name">æ•°æ®åˆ†æå¸ˆ</div>
            <div class="table-col job-type">å…¨èŒ</div>
            <div class="table-col job-salary">Â¥3500-5000</div>
            <div class="table-col job-date">2023-11-17</div>
            <div class="table-col job-status">
              <span class="status active">è¿›è¡Œä¸­</span>
            </div>
            <div class="table-col job-actions">
              <button class="action-btn edit-btn" @click="editJob(2)">âœï¸</button>
              <button class="action-btn delete-btn" @click="deleteJob(2)">ğŸ—‘ï¸</button>
            </div>
          </div>

          <div class="job-row">
            <div class="table-col job-name">UIè®¾è®¡å¸ˆ</div>
            <div class="table-col job-type">å…¼èŒ</div>
            <div class="table-col job-salary">Â¥15-20/å°æ—¶</div>
            <div class="table-col job-date">2023-11-16</div>
            <div class="table-col job-status">
              <span class="status active">è¿›è¡Œä¸­</span>
            </div>
            <div class="table-col job-actions">
              <button class="action-btn edit-btn" @click="editJob(3)">âœï¸</button>
              <button class="action-btn delete-btn" @click="deleteJob(3)">ğŸ—‘ï¸</button>
            </div>
          </div>

          <div class="job-row">
            <div class="table-col job-name">æœåŠ¡å‘˜</div>
            <div class="table-col job-type">å…¼èŒ</div>
            <div class="table-col job-salary">Â¥12-15/å°æ—¶</div>
            <div class="table-col job-date">2023-11-15</div>
            <div class="table-col job-status">
              <span class="status paused">å·²æš‚åœ</span>
            </div>
            <div class="table-col job-actions">
              <button class="action-btn edit-btn" @click="editJob(4)">âœï¸</button>
              <button class="action-btn delete-btn" @click="deleteJob(4)">ğŸ—‘ï¸</button>
            </div>
          </div>
        </div>
      </div>

      <!-- å²—ä½æ¨è -->
      <div class="job-recommendations">
        <div class="recommendation-tags">
          <span class="tag">æ¨è13ä¸ªçƒ­é—¨å²—ä½ï¼Œ5ä¸ªä¸ºç½®é¡¶ä½</span>
          <span class="tag highlight-tag">ä¼˜å…ˆå±•ç¤º</span>
          <span class="tag">æ¯æ—¥10:00-12:00æ›å…‰ï¼Œ1ä¸ªæœˆé‡ç½®</span>
          <span class="tag">æ™ºèƒ½åŒ¹é…</span>
          <span class="tag">å¯å‘å¸ƒ8ä¸ªå…è´¹å²—ä½ï¼Œæ— éœ€ç½®é¡¶</span>
          <span class="tag">æå‡æ´»è·ƒåº¦è·æ›å…‰ï¼Œé»„é‡‘ä¼šå‘˜30æ¬¡/æ—¥</span>
        </div>
        <button class="more-jobs-btn">æŸ¥çœ‹æ›´å¤š</button>
      </div>
    </div>

    <!-- ä¼šå‘˜æƒç›Šå¯¹æ¯”è¡¨ -->
    <div class="benefits-comparison">
      <h3>æƒç›Šå¯¹æ¯”</h3>
      <div class="comparison-table">
        <div class="table-header">
          <div class="table-cell">æƒç›Šé¡¹ç›®</div>
          <div class="table-cell">æ™®é€šç”¨æˆ·</div>
          <div class="table-cell">ç™½é“¶ä¼šå‘˜</div>
          <div class="table-cell">é»„é‡‘ä¼šå‘˜</div>
          <div class="table-cell">é’»çŸ³ä¼šå‘˜</div>
        </div>

        <div class="table-row">
          <div class="table-cell">åŸºç¡€æ•°æ®çœ‹æ¿</div>
          <div class="table-cell"><i class="check">âœ“</i></div>
          <div class="table-cell"><i class="check">âœ“</i></div>
          <div class="table-cell"><i class="check">âœ“</i></div>
          <div class="table-cell"><i class="check">âœ“</i></div>
        </div>

        <div class="table-row">
          <div class="table-cell">å®¢æµé‡è¶‹åŠ¿åˆ†æ</div>
          <div class="table-cell"><i class="check">âœ—</i></div>
          <div class="table-cell"><i class="check">âœ“</i></div>
          <div class="table-cell"><i class="check">âœ“</i></div>
          <div class="table-cell"><i class="check">âœ“</i></div>
        </div>

        <div class="table-row">
          <div class="table-cell">å·¥å•å¤„ç†æ•ˆç‡åˆ†æ</div>
          <div class="table-cell"><i class="check">âœ—</i></div>
          <div class="table-cell"><i class="check">âœ—</i></div>
          <div class="table-cell"><i class="check">âœ“</i></div>
          <div class="table-cell"><i class="check">âœ“</i></div>
        </div>

        <div class="table-row">
          <div class="table-cell">ç”¨æˆ·æ»¡æ„åº¦åˆ†æ</div>
          <div class="table-cell"><i class="check">âœ—</i></div>
          <div class="table-cell"><i class="check">âœ—</i></div>
          <div class="table-cell"><i class="check">âœ“</i></div>
          <div class="table-cell"><i class="check">âœ“</i></div>
        </div>

        <div class="table-row">
          <div class="table-cell">çƒ­é—¨åé¦ˆè¯é¢˜åˆ†æ</div>
          <div class="table-cell"><i class="check">âœ—</i></div>
          <div class="table-cell"><i class="check">âœ—</i></div>
          <div class="table-cell"><i class="check">âœ“</i></div>
          <div class="table-cell"><i class="check">âœ“</i></div>
        </div>

        <div class="table-row">
          <div class="table-cell">AIæ™ºèƒ½æ´å¯Ÿ</div>
          <div class="table-cell"><i class="check">âœ—</i></div>
          <div class="table-cell"><i class="check">âœ—</i></div>
          <div class="table-cell"><i class="check">âœ—</i></div>
          <div class="table-cell"><i class="check">âœ“</i></div>
        </div>

        <div class="table-row">
          <div class="table-cell">ç«äº‰å¯¹æ‰‹å¯¹æ¯”åˆ†æ</div>
          <div class="table-cell"><i class="check">âœ—</i></div>
          <div class="table-cell"><i class="check">âœ—</i></div>
          <div class="table-cell"><i class="check">âœ—</i></div>
          <div class="table-cell"><i class="check">âœ“</i></div>
        </div>

        <div class="table-row">
          <div class="table-cell">æœåŠ¡ç±»ç›®çƒ­åŠ›å›¾</div>
          <div class="table-cell"><i class="check">âœ—</i></div>
          <div class="table-cell"><i class="check">âœ“</i></div>
          <div class="table-cell"><i class="check">âœ“</i></div>
          <div class="table-cell"><i class="check">âœ“</i></div>
        </div>

        <div class="table-row">
          <div class="table-cell">é«˜å³°æ—¶æ®µç±»å‹ç»Ÿè®¡</div>
          <div class="table-cell"><i class="check">âœ“</i></div>
          <div class="table-cell"><i class="check">âœ“</i></div>
          <div class="table-cell"><i class="check">âœ“</i></div>
          <div class="table-cell"><i class="check">âœ“</i></div>
        </div>

        <div class="table-row">
          <div class="table-cell">è‡ªå®šä¹‰æŠ¥è¡¨å¯¼å‡º</div>
          <div class="table-cell"><i class="check">âœ—</i></div>
          <div class="table-cell"><i class="check">âœ—</i></div>
          <div class="table-cell"><i class="check">âœ“</i></div>
          <div class="table-cell"><i class="check">âœ“</i></div>
        </div>

        <div class="table-row">
          <div class="table-cell">å¤šé—¨åº—æ•°æ®å¯¹æ¯”</div>
          <div class="table-cell"><i class="check">âœ—</i></div>
          <div class="table-cell"><i class="check">âœ—</i></div>
          <div class="table-cell"><i class="check">âœ—</i></div>
          <div class="table-cell"><i class="check">âœ“</i></div>
        </div>

        <div class="table-row">
          <div class="table-cell">ç»è¥é¢„æµ‹æ¨¡å‹</div>
          <div class="table-cell"><i class="check">âœ—</i></div>
          <div class="table-cell"><i class="check">âœ—</i></div>
          <div class="table-cell"><i class="check">âœ—</i></div>
          <div class="table-cell"><i class="check">âœ“</i></div>
        </div>

        <div class="table-row">
          <div class="table-cell">å…¼èŒå²—ä½å‘å¸ƒï¼ˆå•†å®¶ï¼‰</div>
          <div class="table-cell"><i class="check">âœ“</i></div>
          <div class="table-cell"><i class="check">âœ“</i></div>
          <div class="table-cell"><i class="check">âœ“</i></div>
          <div class="table-cell"><i class="check">âœ“</i></div>
        </div>

        <div class="table-row">
          <div class="table-cell">å²—ä½ç½®é¡¶æƒé™ï¼ˆå•†å®¶ï¼‰</div>
          <div class="table-cell"><i class="check">âœ—</i></div>
          <div class="table-cell"><i class="check">âœ“</i></div>
          <div class="table-cell"><i class="check">âœ“</i></div>
          <div class="table-cell"><i class="check">âœ“</i></div>
        </div>

        <div class="table-row">
          <div class="table-cell">å¹¿å‘Šæ›å…‰æ¬¡æ•°</div>
          <div class="table-cell"><i class="check">âœ“</i></div>
          <div class="table-cell"><i class="check">âœ“</i></div>
          <div class="table-cell"><i class="check">âœ“</i></div>
          <div class="table-cell"><i class="check">âœ“</i></div>
        </div>

        <div class="table-row">
          <div class="table-cell">å¹¿å‘Šå±•ç¤ºä½ç½®</div>
          <div class="table-cell"><i class="check">âœ—</i></div>
          <div class="table-cell"><i class="check">âœ“</i></div>
          <div class="table-cell"><i class="check">âœ“</i></div>
          <div class="table-cell"><i class="check">âœ“</i></div>
        </div>

        <div class="table-row">
          <div class="table-cell">å¹¿å‘Šå½¢å¼</div>
          <div class="table-cell"><i class="check">âœ—</i></div>
          <div class="table-cell"><i class="check">âœ—</i></div>
          <div class="table-cell"><i class="check">âœ“</i></div>
          <div class="table-cell"><i class="check">âœ“</i></div>
        </div>

        <div class="table-row">
          <div class="table-cell">ä¸“å±å®¢æˆ·ç»ç†</div>
          <div class="table-cell"><i class="check">âœ—</i></div>
          <div class="table-cell"><i class="check">âœ“</i></div>
          <div class="table-cell"><i class="check">âœ“</i></div>
          <div class="table-cell"><i class="check">âœ“</i></div>
        </div>

        <div class="table-row">
          <div class="table-cell">ä»·æ ¼</div>
          <div class="table-cell"><i class="check">å…è´¹ä½¿ç”¨</i></div>
          <div class="table-cell"><i class="check">Â¥49.9/æœˆ</i></div>
          <div class="table-cell"><i class="check">Â¥99.9/æœˆ</i></div>
          <div class="table-cell"><i class="check">Â¥199.9/æœˆ</i></div>
        </div>
      </div>
    </div>

    <!-- ä¼šå‘˜æ•°æ®ç»Ÿè®¡ -->
    <div class="membership-stats">
      <h3>ä¼šå‘˜æ•°æ®</h3>
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-value">{{ memberStats.totalMembers.toLocaleString() }}</div>
          <div class="stat-label">æ€»ä¼šå‘˜æ•°</div>
        </div>
        <div class="stat-card">
          <div class="stat-value">{{ memberStats.repurchaseRate }}%</div>
          <div class="stat-label">ä¼šå‘˜å¤è´­ç‡</div>
        </div>
        <div class="stat-card">
          <div class="stat-value">Â¥{{ memberStats.avgSpending }}</div>
          <div class="stat-label">ä¼šå‘˜å¹³å‡æ¶ˆè´¹</div>
        </div>
        <div class="stat-card">
          <div class="stat-value">{{ memberStats.satisfaction }}%</div>
          <div class="stat-label">ä¼šå‘˜æ»¡æ„åº¦</div>
        </div>
      </div>
    </div>

    <!-- ä¼šå‘˜å¥—é¤å¡ç‰‡ -->
    <div class="membership-plans">
      <h3>ä¼šå‘˜å¥—é¤</h3>
      <div class="plan-cards">
        <div class="plan-card" :class="{ current: currentMembership === 'silver' }">
          <div class="plan-header">
            <h4>ç™½é“¶ä¼šå‘˜</h4>
            <div class="plan-price">Â¥49.9<span>/æœˆ</span></div>
          </div>
          <div class="plan-features">
            <ul>
              <li>æ‰€æœ‰æ™®é€šç”¨æˆ·æƒç›Š</li>
              <li>9æŠ˜ä¸“å±æŠ˜æ‰£</li>
              <li>2å°æ—¶å…è´¹åœè½¦</li>
              <li>ç”Ÿæ—¥è¿›é˜¶ç¤¼é‡</li>
              <li>æ¶ˆè´¹æ•°æ®åˆ†ææŠ¥å‘Š</li>
              <li v-if="currentUser?.role === 'merchant'">å²—ä½ç½®é¡¶æƒé™</li>
              <li v-if="currentUser?.role === 'merchant'">ä¼˜åŒ–å¹¿å‘Šå±•ç¤ºä½ç½®</li>
            </ul>
          </div>
          <button class="subscribe-btn" @click="selectPlan('silver')" v-if="currentMembership !== 'silver'">ç«‹å³è®¢é˜…</button>
          <span class="current-plan-tag" v-else>å½“å‰å¥—é¤</span>
        </div>

        <div class="plan-card featured" :class="{ current: currentMembership === 'gold' }">
          <div class="featured-badge">æœ€å—æ¬¢è¿</div>
          <div class="plan-header phhj">
            <h4>é»„é‡‘ä¼šå‘˜</h4>
            <div class="plan-price">Â¥99.9<span>/æœˆ</span></div>
          </div>
          <div class="plan-features">
            <ul>
              <li>æ‰€æœ‰ç™½é“¶ä¼šå‘˜æƒç›Š</li>
              <li>8.5æŠ˜ä¸“å±æŠ˜æ‰£</li>
              <li>3å°æ—¶å…è´¹åœè½¦</li>
              <li>ç”Ÿæ—¥é«˜çº§ç¤¼é‡</li>
              <li>ä¸“å±å®¢æœæœåŠ¡</li>
              <li>ä¼˜å…ˆé¢„çº¦ç‰¹æƒ</li>
              <li>å·¥å•å¤„ç†æ•ˆç‡åˆ†æ</li>
              <li>ç”¨æˆ·æ»¡æ„åº¦åˆ†æ</li>
              <li>è‡ªå®šä¹‰æŠ¥è¡¨å¯¼å‡º</li>
              <li v-if="currentUser?.role === 'merchant'">å…¼èŒå²—ä½ç®¡ç†</li>
              <li v-if="currentUser?.role === 'merchant'">å¤šå½¢å¼å¹¿å‘Šå±•ç¤º</li>
              <li v-if="currentUser?.role === 'merchant'">30æ¬¡/æ—¥æ›å…‰æå‡</li>
            </ul>
          </div>
          <button class="subscribe-btn" @click="selectPlan('gold')" v-if="currentMembership !== 'gold'">ç«‹å³è®¢é˜…</button>
          <span class="current-plan-tag" v-else>å½“å‰å¥—é¤</span>
        </div>

        <div class="plan-card" :class="{ current: currentMembership === 'diamond' }">
          <div class="plan-header">
            <h4>é’»çŸ³ä¼šå‘˜</h4>
            <div class="plan-price">Â¥199.9<span>/æœˆ</span></div>
          </div>
          <div class="plan-features">
            <ul>
              <li>æ‰€æœ‰é»„é‡‘ä¼šå‘˜æƒç›Š</li>
              <li>8æŠ˜ä¸“å±æŠ˜æ‰£</li>
              <li>ä¸é™æ—¶å…è´¹åœè½¦</li>
              <li>ç”Ÿæ—¥è±ªåç¤¼é‡</li>
              <li>ä¸“å±å®¢æˆ·ç»ç†</li>
              <li>æ–°å“ä¼˜å…ˆè´­</li>
              <li>é«˜ç«¯æ´»åŠ¨é‚€è¯·</li>
              <li>AIæ™ºèƒ½æ´å¯Ÿåˆ†æ</li>
              <li>ç«äº‰å¯¹æ‰‹å¯¹æ¯”åˆ†æ</li>
              <li>å¤šé—¨åº—æ•°æ®å¯¹æ¯”</li>
              <li>ç»è¥é¢„æµ‹æ¨¡å‹</li>
              <li v-if="currentUser?.role === 'merchant'">é¡¶çº§å²—ä½æ¨èä½</li>
              <li v-if="currentUser?.role === 'merchant'">å®šåˆ¶åŒ–è¥é”€æ–¹æ¡ˆ</li>
            </ul>
          </div>
          <button class="subscribe-btn" @click="selectPlan('diamond')"
            v-if="currentMembership !== 'diamond'">ç«‹å³è®¢é˜…</button>
          <span class="current-plan-tag" v-else>å½“å‰å¥—é¤</span>
        </div>
      </div>
    </div>

    <!-- æ³¨å†Œä¼šå‘˜å¼¹çª— -->
    <div class="modal-overlay" v-if="showJoinModal">
      <div class="join-modal">
        <div class="modal-header">
          <h3>æ³¨å†Œæˆä¸ºä¼šå‘˜</h3>
          <button class="close-modal" @click="showJoinModal = false">Ã—</button>
        </div>

        <div class="modal-body">
          <form class="join-form">
            <div class="form-group">
              <label>ç”¨æˆ·å</label>
              <input type="text" v-model="joinForm.username" placeholder="è¯·è¾“å…¥ç”¨æˆ·å">
            </div>
            <div class="form-group">
              <label>ç”¨æˆ·è§’è‰²</label>
              <select v-model="joinForm.role">
                <option value="user">æ™®é€šç”¨æˆ·</option>
                <option value="merchant">å•†å®¶</option>
              </select>
            </div>
            <div class="form-group">
              <label>æ‰‹æœºå·</label>
              <input type="tel" v-model="joinForm.phone" placeholder="è¯·è¾“å…¥æ‰‹æœºå·">
            </div>
            <div class="form-group">
              <label>éªŒè¯ç </label>
              <div class="code-input-group">
                <input type="text" v-model="joinForm.code" placeholder="è¯·è¾“å…¥éªŒè¯ç ">
                <button type="button" class="send-code-btn" @click="sendCode">å‘é€éªŒè¯ç </button>
              </div>
            </div>
            <div class="form-group">
              <label>å¯†ç </label>
              <input type="password" v-model="joinForm.password" placeholder="è¯·è®¾ç½®å¯†ç ">
            </div>
          </form>
        </div>

        <div class="modal-footer">
          <button class="cancel-btn" @click="showJoinModal = false">å–æ¶ˆ</button>
          <button class="confirm-btn" @click="confirmJoin">ç¡®è®¤æ³¨å†Œ</button>
        </div>
      </div>
    </div>

    <!-- å‡çº§ä¼šå‘˜å¼¹çª— -->
    <div class="modal-overlay" v-if="showUpgradeModal">
      <div class="upgrade-modal">
        <div class="modal-header">
          <h3>å‡çº§ä¼šå‘˜</h3>
          <button class="close-modal" @click="showUpgradeModal = false">Ã—</button>
        </div>

        <div class="modal-body">
          <div class="upgrade-options">
            <div class="upgrade-option" v-for="(option, index) in upgradeOptions" :key="index"
              :class="{ selected: selectedUpgradeLevel === option.level }" @click="selectedUpgradeLevel = option.level">
              <div class="option-info">
                <h4>{{ option.title }}</h4>
                <p class="option-price">{{ option.price }}</p>
                <p class="option-benefits">{{ option.benefits }}</p>
              </div>
              <div class="option-selector" v-if="selectedUpgradeLevel === option.level">âœ“</div>
            </div>
          </div>
        </div>

        <div class="modal-footer">
          <button class="cancel-btn" @click="showUpgradeModal = false">å–æ¶ˆ</button>
          <button class="confirm-upgrade-btn" @click="confirmUpgrade" :disabled="!selectedUpgradeLevel">
            ç¡®è®¤å‡çº§
          </button>
        </div>
      </div>
    </div>

    <!-- æ·»åŠ å²—ä½å¼¹çª— -->
    <div class="modal-overlay" v-if="showAddJobModal">
      <div class="add-job-modal">
        <div class="modal-header">
          <h3>å‘å¸ƒæ–°å²—ä½</h3>
          <button class="close-modal" @click="showAddJobModal = false">Ã—</button>
        </div>

        <div class="modal-body">
          <form class="job-form">
            <div class="form-group">
              <label>å²—ä½åç§°</label>
              <input type="text" v-model="jobForm.name" placeholder="è¯·è¾“å…¥å²—ä½åç§°">
            </div>
            <div class="form-group">
              <label>å²—ä½ç±»å‹</label>
              <select v-model="jobForm.type">
                <option value="å…¨èŒ">å…¨èŒ</option>
                <option value="å…¼èŒ">å…¼èŒ</option>
                <option value="å®ä¹ ">å®ä¹ </option>
              </select>
            </div>
            <div class="form-group">
              <label>è–ªèµ„èŒƒå›´</label>
              <input type="text" v-model="jobForm.salary" placeholder="è¯·è¾“å…¥è–ªèµ„èŒƒå›´">
            </div>
            <div class="form-group">
              <label>å²—ä½èŒè´£</label>
              <textarea v-model="jobForm.description" placeholder="è¯·è¾“å…¥å²—ä½èŒè´£"></textarea>
            </div>
            <div class="form-group">
              <label>ä»»èŒè¦æ±‚</label>
              <textarea v-model="jobForm.requirement" placeholder="è¯·è¾“å…¥ä»»èŒè¦æ±‚"></textarea>
            </div>
          </form>
        </div>

        <div class="modal-footer">
          <button class="cancel-btn" @click="showAddJobModal = false">å–æ¶ˆ</button>
          <button class="confirm-btn" @click="confirmAddJob">å‘å¸ƒå²—ä½</button>
        </div>
      </div>
    </div>

    <!-- æ“ä½œæç¤ºå¼¹çª— -->
    <div class="modal-overlay" v-if="showActionModal">
      <div class="action-modal">
        <div class="modal-header">
          <h3>{{ actionModalTitle }}</h3>
          <button class="close-modal" @click="showActionModal = false">Ã—</button>
        </div>

        <div class="modal-body">
          <p class="action-message">{{ actionModalMessage }}</p>
          <div class="action-confirm" v-if="actionModalConfirm">
            <p class="confirm-text">{{ actionModalConfirmText }}</p>
          </div>
        </div>

        <div class="modal-footer">
          <button class="cancel-btn" @click="showActionModal = false" v-if="actionModalShowCancel">å–æ¶ˆ</button>
          <button class="confirm-btn" @click="confirmAction">{{ actionModalBtnText }}</button>
        </div>
      </div>
    </div>

    <!-- æˆåŠŸæç¤º  v-if="showToast" -->
    <div class="toast" v-if="showToast">
      <div class="toast-content" :class="toastType">
        <span class="toast-icon">{{ toastType === 'success' ? 'âœ“' : toastType === 'error' ? '!' : 'â„¹' }}</span>
        <div class="toast-message">
          <h4>{{ toastTitle }}</h4>
          <p>{{ toastMessage }}</p>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup>
import { ref, computed, onMounted, onUnmounted } from 'vue';
import { useRouter } from 'vue-router';
import eventBus from '../../utils/eventBus'; // å¯¼å…¥äº‹ä»¶æ€»çº¿
import {
  updateMembershipLevel,
  getUserMembership,
  getMembershipDisplayName,
  registerUser, // å¯¼å…¥æ³¨å†Œæ–¹æ³•
  checkUsernameExists // å¯¼å…¥ç”¨æˆ·åæ£€æŸ¥æ–¹æ³•
} from '../../utils/userStorage'; // å¯¼å…¥ç”¨æˆ·å­˜å‚¨å·¥å…·

const router = useRouter();

// å½“å‰ç”¨æˆ·ä¿¡æ¯
const currentUser = ref(JSON.parse(localStorage.getItem('currentUser')));
const currentMembership = ref('regular'); // é»˜è®¤æ™®é€šç”¨æˆ·ï¼ˆç§»é™¤non_memberçŠ¶æ€ï¼‰

// ä¼šå‘˜æ•°æ®
const memberStats = ref({
  totalMembers: 128456,
  repurchaseRate: 48.2,
  avgSpending: 236,
  satisfaction: 92.7
});

// å¼¹çª—æ§åˆ¶
const showJoinModal = ref(false);
const showUpgradeModal = ref(false);
const showAddJobModal = ref(false);
const showActionModal = ref(false);
const showToast = ref(false);

// è¡¨å•æ•°æ®
const joinForm = ref({
  username: '',
  role: 'user', // é»˜è®¤æ™®é€šç”¨æˆ·è§’è‰²
  phone: '',
  code: '',
  password: ''
});

const jobForm = ref({
  name: '',
  type: 'å…¨èŒ',
  salary: '',
  description: '',
  requirement: ''
});

// å‡çº§ç›¸å…³
const selectedUpgradeLevel = ref('');
const toastTitle = ref('');
const toastMessage = ref('');
const toastType = ref('success');

// æ“ä½œå¼¹çª—ç›¸å…³
const actionModalTitle = ref('');
const actionModalMessage = ref('');
const actionModalConfirm = ref(false);
const actionModalConfirmText = ref('');
const actionModalShowCancel = ref(true);
const actionModalBtnText = ref('ç¡®è®¤');
const actionCallback = ref(null);

// ä¼šå‘˜ç­‰çº§ä¸­æ–‡æ˜¾ç¤ºï¼ˆä½¿ç”¨å·¥å…·å‡½æ•°ï¼‰
const getMembershipText = (level) => {
  return getMembershipDisplayName(level);
};

// ä¼šå‘˜å¥—é¤é…ç½®ï¼ˆç§»é™¤non_memberï¼Œæ™®é€šç”¨æˆ·ä¸ºåŸºç¡€ç­‰çº§ï¼‰
const membershipPlans = ref([
  {
    level: 'regular',
    title: 'æ™®é€šç”¨æˆ·',
    price: 'Â¥0',
    period: '/æ°¸ä¹…',
    features: [
      'åŸºç¡€æ™ºèƒ½è´­ç‰©åˆ†æ',
      '9.5æŠ˜ä¸“å±æŠ˜æ‰£',
      '1å°æ—¶å…è´¹åœè½¦',
      'ç”Ÿæ—¥åŸºç¡€ç¤¼é‡',
      'å…¼èŒå²—ä½å‘å¸ƒï¼ˆå•†å®¶ï¼‰'
    ]
  },
  {
    level: 'silver',
    title: 'ç™½é“¶ä¼šå‘˜',
    price: 'Â¥49.9',
    period: '/æœˆ',
    features: [
      'æ‰€æœ‰æ™®é€šç”¨æˆ·æƒç›Š',
      '9æŠ˜ä¸“å±æŠ˜æ‰£',
      '2å°æ—¶å…è´¹åœè½¦',
      'ç”Ÿæ—¥è¿›é˜¶ç¤¼é‡',
      'æ¶ˆè´¹æ•°æ®åˆ†ææŠ¥å‘Š',
      'æœåŠ¡ç±»ç›®çƒ­åŠ›å›¾',
      'å²—ä½ç½®é¡¶æƒé™ï¼ˆå•†å®¶ï¼‰',
      'ä¼˜åŒ–å¹¿å‘Šå±•ç¤ºä½ç½®ï¼ˆå•†å®¶ï¼‰'
    ]
  },
  {
    level: 'gold',
    title: 'é»„é‡‘ä¼šå‘˜',
    price: 'Â¥99.9',
    period: '/æœˆ',
    features: [
      'æ‰€æœ‰ç™½é“¶ä¼šå‘˜æƒç›Š',
      '8.5æŠ˜ä¸“å±æŠ˜æ‰£',
      '3å°æ—¶å…è´¹åœè½¦',
      'AIæ™ºèƒ½æ´å¯Ÿåˆ†æï¼ˆåŸºç¡€ï¼‰',
      'ç«äº‰å¯¹æ‰‹å¯¹æ¯”åˆ†æï¼ˆåŸºç¡€ï¼‰',
      'å…¼èŒå²—ä½ç®¡ç†ï¼ˆå•†å®¶ï¼‰',
      'ä¸“å±å®¢æœæœåŠ¡',
      'å·¥å•å¤„ç†æ•ˆç‡åˆ†æ',
      'ç”¨æˆ·æ»¡æ„åº¦åˆ†æ',
      'è‡ªå®šä¹‰æŠ¥è¡¨å¯¼å‡º',
      'å¤šå½¢å¼å¹¿å‘Šå±•ç¤ºï¼ˆå•†å®¶ï¼‰',
      '30æ¬¡/æ—¥æ›å…‰æå‡ï¼ˆå•†å®¶ï¼‰'
    ]
  },
  {
    level: 'diamond',
    title: 'é’»çŸ³ä¼šå‘˜',
    price: 'Â¥199.9',
    period: '/æœˆ',
    features: [
      'æ‰€æœ‰é»„é‡‘ä¼šå‘˜æƒç›Š',
      '8æŠ˜ä¸“å±æŠ˜æ‰£',
      'ä¸é™æ—¶å…è´¹åœè½¦',
      'è¯¦ç»†AIæ´å¯ŸæŠ¥å‘Š',
      'å®šåˆ¶åŒ–åˆ†ææ–¹æ¡ˆ',
      'ä¸“å±å®¢æˆ·ç»ç†',
      'æ–°å“ä¼˜å…ˆè´­ç‰¹æƒ',
      'å¤šé—¨åº—æ•°æ®å¯¹æ¯”',
      'ç»è¥é¢„æµ‹æ¨¡å‹',
      'é¡¶çº§å²—ä½æ¨èä½ï¼ˆå•†å®¶ï¼‰',
      'å®šåˆ¶åŒ–è¥é”€æ–¹æ¡ˆï¼ˆå•†å®¶ï¼‰'
    ]
  }
]);

// å‡çº§é€‰é¡¹ï¼ˆæ˜¾ç¤ºæ‰€æœ‰æ›´é«˜ç­‰çº§çš„é€‰é¡¹ï¼‰
const upgradeOptions = computed(() => {
  const levelOrder = { 'regular': 1, 'silver': 2, 'gold': 3, 'diamond': 4 }; // ç§»é™¤non_member

  return membershipPlans.value
    .filter((plan) => levelOrder[plan.level] > levelOrder[currentMembership.value])
    .map(plan => {
      return {
        level: plan.level,
        title: `å‡çº§è‡³${getMembershipText(plan.level)}`,
        price: `${plan.price}${plan.period}`,
        benefits: plan.features.slice(0, 2).join('ï¼Œ')
      };
    });
});

// æ¨¡æ‹Ÿæ•°æ®æ›´æ–°
let statsUpdateTimer = null;

onMounted(() => {
  // æ£€æŸ¥ç”¨æˆ·æ˜¯å¦ç™»å½•
  if (currentUser.value) {
    // ä¼˜å…ˆä»localStorageè·å–ä¼šå‘˜çŠ¶æ€
    const savedMembership = localStorage.getItem('userMembership');
    if (savedMembership) {
      currentMembership.value = savedMembership;
    } else if (currentUser.value.membershipLevel) {
      currentMembership.value = currentUser.value.membershipLevel;
      localStorage.setItem('userMembership', currentUser.value.membershipLevel);
    } else {
      // ä»ç”¨æˆ·å­˜å‚¨ä¸­è·å–
      const membership = getUserMembership(currentUser.value?.username, currentUser.value?.role);
      if (membership.success) {
        currentMembership.value = membership.membershipLevel;
        localStorage.setItem('userMembership', membership.membershipLevel);
      }
    }
  }

  // æ¯5ç§’æ›´æ–°ä¸€æ¬¡æ•°æ®
  statsUpdateTimer = setInterval(() => {
    memberStats.value = {
      ...memberStats.value,
      totalMembers: memberStats.value.totalMembers + Math.floor(Math.random() * 10),
      satisfaction: Number((memberStats.value.satisfaction + (Math.random() * 0.2 - 0.1)).toFixed(1))
    };
  }, 5000);

  // ç›‘å¬ä¼šå‘˜çŠ¶æ€æ›´æ–°äº‹ä»¶
  const handleMembershipUpdate = (newLevel) => {
    currentMembership.value = newLevel;
    showToastNotification('æ›´æ–°æˆåŠŸ', `ä¼šå‘˜ç­‰çº§å·²æ›´æ–°ä¸º${getMembershipText(newLevel)}`, 'success');
  };

  eventBus.on('membershipUpdated', handleMembershipUpdate);

  // ç»„ä»¶å¸è½½æ—¶ç§»é™¤ç›‘å¬
  onUnmounted(() => {
    if (statsUpdateTimer) clearInterval(statsUpdateTimer);
    eventBus.off('membershipUpdated', handleMembershipUpdate);
  });
});

// æ˜¾ç¤ºæç¤ºæ¶ˆæ¯
const showToastNotification = (title, message, type = 'success') => {
  toastTitle.value = title;
  toastMessage.value = message;
  toastType.value = type;
  showToast.value = true;

  setTimeout(() => {
    showToast.value = false;
  }, 3000);
};

// æ˜¾ç¤ºæ“ä½œç¡®è®¤å¼¹çª—
const showActionConfirm = (title, message, confirmText = '', showCancel = true, btnText = 'ç¡®è®¤', callback = null) => {
  actionModalTitle.value = title;
  actionModalMessage.value = message;
  actionModalConfirmText.value = confirmText;
  actionModalConfirm.value = !!confirmText;
  actionModalShowCancel.value = showCancel;
  actionModalBtnText.value = btnText;
  actionCallback.value = callback;
  showActionModal.value = true;
};

// ç¡®è®¤æ“ä½œ
const confirmAction = () => {
  if (actionCallback.value) {
    actionCallback.value();
  }
  showActionModal.value = false;
};

// å‘é€éªŒè¯ç 
const sendCode = () => {
  if (!joinForm.value.phone) {
    showToastNotification('æç¤º', 'è¯·è¾“å…¥æ‰‹æœºå·', 'info');
    return;
  }
  showToastNotification('æˆåŠŸ', 'éªŒè¯ç å·²å‘é€ï¼Œè¯·æ³¨æ„æŸ¥æ”¶', 'success');
};

// ç¡®è®¤æ³¨å†Œï¼ˆä½¿ç”¨userStorageä¸­çš„registerUseræ–¹æ³•ï¼‰
const confirmJoin = () => {
  if (!joinForm.value.username || !joinForm.value.role || !joinForm.value.phone || !joinForm.value.code || !joinForm.value.password) {
    showToastNotification('æç¤º', 'è¯·å¡«å†™å®Œæ•´ä¿¡æ¯', 'error');
    return;
  }

  // æ£€æŸ¥ç”¨æˆ·åæ˜¯å¦å·²å­˜åœ¨
  const usernameExists = checkUsernameExists(joinForm.value.username, joinForm.value.role);
  if (usernameExists) {
    showToastNotification('æç¤º', 'è¯¥ç”¨æˆ·åå·²è¢«æ³¨å†Œ', 'error');
    return;
  }

  // è°ƒç”¨æ³¨å†Œæ–¹æ³•
  const registerResult = registerUser({
    username: joinForm.value.username,
    password: joinForm.value.password,
    role: joinForm.value.role
  });

  if (registerResult.success) {
    // æ³¨å†ŒæˆåŠŸï¼Œåˆ›å»ºç”¨æˆ·ä¿¡æ¯
    const newUser = {
      username: joinForm.value.username,
      role: joinForm.value.role,
      membershipLevel: 'regular' // æ³¨å†Œé»˜è®¤æ™®é€šç”¨æˆ·
    };

    localStorage.setItem('currentUser', JSON.stringify(newUser));
    localStorage.setItem('userMembership', 'regular');

    currentUser.value = newUser;
    currentMembership.value = 'regular';

    showJoinModal.value = false;
    showToastNotification('æ³¨å†ŒæˆåŠŸ', `æ­å–œæ‚¨æˆä¸º${joinForm.value.role === 'merchant' ? 'å•†å®¶' : 'æ™®é€š'}ç”¨æˆ·ï¼`, 'success');

    // é€šçŸ¥å…¶ä»–ç»„ä»¶
    eventBus.emit('membershipUpdated', 'regular');
  } else {
    showToastNotification('æ³¨å†Œå¤±è´¥', registerResult.message, 'error');
  }
};

// é€‰æ‹©å¥—é¤
const selectPlan = (level) => {
  if (!currentUser.value) {
    showJoinModal.value = true;
    return;
  }

  selectedUpgradeLevel.value = level;
  showUpgradeModal.value = true;
};

// ç¡®è®¤å‡çº§
const confirmUpgrade = () => {
  if (!selectedUpgradeLevel.value || !currentUser.value) return;

  // è°ƒç”¨ç”¨æˆ·å­˜å‚¨å·¥å…·æ›´æ–°ä¼šå‘˜ç­‰çº§
  const result = updateMembershipLevel(
    currentUser.value.username,
    currentUser.value.role,
    selectedUpgradeLevel.value
  );

  if (result.success) {
    // æ›´æ–°å½“å‰ä¼šå‘˜çŠ¶æ€
    currentMembership.value = selectedUpgradeLevel.value;

    // æ›´æ–°localStorageä¸­çš„ç”¨æˆ·ä¿¡æ¯
    currentUser.value.membershipLevel = selectedUpgradeLevel.value;
    localStorage.setItem('currentUser', JSON.stringify(currentUser.value));
    localStorage.setItem('userMembership', selectedUpgradeLevel.value);

    // é€šçŸ¥å…¶ä»–ç»„ä»¶æ›´æ–°ä¼šå‘˜çŠ¶æ€
    eventBus.emit('membershipUpdated', selectedUpgradeLevel.value);

    // æ˜¾ç¤ºæˆåŠŸæç¤º
    showToastNotification(
      'å‡çº§æˆåŠŸ',
      `æ­å–œæ‚¨å·²æˆåŠŸå‡çº§ä¸º${getMembershipText(selectedUpgradeLevel.value)}`,
      'success'
    );

    // å…³é—­å¼¹çª—
    showUpgradeModal.value = false;
    selectedUpgradeLevel.value = '';
  } else {
    // æ˜¾ç¤ºå¤±è´¥æç¤º
    showToastNotification(
      'æ“ä½œå¤±è´¥',
      result.message || 'ä¼šå‘˜ç­‰çº§å˜æ›´è¿‡ç¨‹ä¸­å‡ºç°é”™è¯¯ï¼Œè¯·é‡è¯•',
      'error'
    );
  }
};

// ç¡®è®¤æ·»åŠ å²—ä½
const confirmAddJob = () => {
  if (!jobForm.value.name || !jobForm.value.salary) {
    showToastNotification('æç¤º', 'è¯·å¡«å†™å²—ä½åç§°å’Œè–ªèµ„', 'error');
    return;
  }

  showAddJobModal.value = false;
  showToastNotification('å‘å¸ƒæˆåŠŸ', 'å²—ä½å·²æˆåŠŸå‘å¸ƒ', 'success');

  // é‡ç½®è¡¨å•
  jobForm.value = {
    name: '',
    type: 'å…¨èŒ',
    salary: '',
    description: '',
    requirement: ''
  };
};

// ç¼–è¾‘å²—ä½
const editJob = (id) => {
  showActionConfirm('ç¼–è¾‘å²—ä½', `æ‚¨æ­£åœ¨ç¼–è¾‘IDä¸º${id}çš„å²—ä½`, 'è¯·ç¡®è®¤æ‚¨è¦ç¼–è¾‘æ­¤å²—ä½ä¿¡æ¯', true, 'ç¼–è¾‘', () => {
    showToastNotification('æç¤º', 'ç¼–è¾‘åŠŸèƒ½å³å°†ä¸Šçº¿', 'info');
  });
};

// åˆ é™¤å²—ä½
const deleteJob = (id) => {
  showActionConfirm('åˆ é™¤å²—ä½', `æ‚¨æ­£åœ¨åˆ é™¤IDä¸º${id}çš„å²—ä½`, 'æ­¤æ“ä½œä¸å¯æ’¤é”€ï¼Œç¡®å®šè¦åˆ é™¤å—ï¼Ÿ', true, 'åˆ é™¤', () => {
    showToastNotification('æˆåŠŸ', 'å²—ä½å·²åˆ é™¤', 'success');
  });
};

// ç”Ÿæˆæ›´å¤šæ´å¯Ÿ
const generateMoreInsights = () => {
  if (!['gold', 'diamond'].includes(currentMembership.value)) {
    showToastNotification('æƒé™ä¸è¶³', 'éœ€è¦å‡çº§è‡³é»„é‡‘ä¼šå‘˜æ‰èƒ½ä½¿ç”¨æ­¤åŠŸèƒ½', 'error');
    return;
  }

  showToastNotification('å¤„ç†ä¸­', 'æ­£åœ¨ä¸ºæ‚¨ç”Ÿæˆæ›´å¤šAIæ´å¯Ÿ...', 'info');

  setTimeout(() => {
    showToastNotification('å®Œæˆ', 'æ–°çš„AIæ´å¯Ÿå·²ç”Ÿæˆï¼Œè¯·æŸ¥çœ‹', 'success');
  }, 2000);
};

// å¯¼å‡ºæŠ¥å‘Š
const exportReport = () => {
  showToastNotification('å¯¼å‡ºä¸­', 'æŠ¥å‘Šæ­£åœ¨ç”Ÿæˆï¼Œå³å°†ä¸‹è½½...', 'info');

  setTimeout(() => {
    showToastNotification('å¯¼å‡ºæˆåŠŸ', 'ç«äº‰å¯¹æ‰‹åˆ†ææŠ¥å‘Šå·²å¯¼å‡º', 'success');
  }, 1500);
};

// å¤„ç†å¯¹æ¯”å˜åŒ–
const handleComparisonChange = (event) => {
  const text = event.target.options[event.target.selectedIndex].text;
  showToastNotification('å·²æ›´æ–°', `å·²åˆ‡æ¢è‡³${text}è§†å›¾`, 'info');
};
</script>


<style scoped>
/* åŸºç¡€æ ·å¼ */
.membership-page {
  max-width: 1400px;
  margin: 0 auto;
  padding: 20px;
  font-family: 'Arial', sans-serif;
}

/* å¤´éƒ¨æ ·å¼ */
.header {
  background-color: white;

  text-align: center;
  padding: 40px 20px;
  border-radius: 10px;
  margin-bottom: 30px;
  position: relative;
}

.header h1 {
  font-size: 2.5rem;
  margin-bottom: 10px;
}

.header p {
  font-size: 1.1rem;
  margin-bottom: 20px;
}

.btn-group {
  display: flex;
  gap: 15px;
  justify-content: center;
}

.join-btn,
.upgrade-btn {
  padding: 12px 24px;
  border: none;
  border-radius: 30px;
  font-size: 1rem;
  font-weight: bold;
  cursor: pointer;
  transition: all 0.3s ease;
}

.join-btn {
  background-color: white;
  color: #667eea;
}

.upgrade-btn {
  background-color: #ffd700;
  color: #333;
}

.upgrade-btn.disabled {
  background-color: #cccccc;
  color: #666666;
  cursor: not-allowed;
}

.join-btn:hover,
.upgrade-btn:hover:not(.disabled) {
  transform: translateY(-2px);
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
}

.current-membership-status {
  position: absolute;
  top: 20px;
  right: 20px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.welcome-text {
  color: white;
  font-weight: bold;
}

.membership-badge {
  padding: 5px 10px;
  border-radius: 20px;
  font-size: 0.8rem;
  font-weight: bold;
}

.badge-regular {
  background-color: #e0e0e0;
  color: #333;
}

.badge-silver {
  background-color: #c0c0c0;
  color: #333;
}

.badge-gold {
  background-color: #ffd700;
  color: #333;
}

.badge-diamond {
  background-color: #b9f2ff;
  color: #0077b6;
}

/* ä¼šå‘˜ç­‰çº§æ¦‚è§ˆ */
.membership-overview {
  margin-bottom: 40px;
}

.membership-overview h3 {
  font-size: 1.8rem;
  margin-bottom: 20px;
  color: #333;
  border-bottom: 2px solid #667eea;
  padding-bottom: 10px;
}

.level-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 20px;
}

.level-item {
  background: white;
  border-radius: 10px;
  padding: 20px;
  text-align: center;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
  transition: transform 0.3s ease;
  border-top: 3px solid #667eea;
}

.level-item.featured {
  border-top: 3px solid #ffd700;
  transform: scale(1.05);
}

.level-item.active {
  background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
}

.level-item:hover {
  transform: translateY(-5px);
}

.level-icon {
  font-size: 2.5rem;
  margin-bottom: 10px;
}

.level-item h4 {
  font-size: 1.2rem;
  margin-bottom: 5px;
  color: #333;
}

.level-item p {
  color: #666;
  font-size: 0.9rem;
}

/* AIæ™ºèƒ½æ´å¯Ÿä¸ç«äº‰å¯¹æ‰‹åˆ†æ */
.intelligence-container {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 30px;
  margin-bottom: 40px;
}

.ai-intelligence,
.competitor-analysis {
  background: white;
  border-radius: 10px;
  padding: 20px;
  box-shadow: 0 3px 15px rgba(0, 0, 0, 0.1);
}

.section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
  border-bottom: 2px solid #eee;
  padding-bottom: 10px;
}

.section-header h2 {
  color: #333;
  margin: 0;
}

.badges {
  display: flex;
  gap: 10px;
}

.badge {
  padding: 5px 10px;
  border-radius: 20px;
  font-size: 0.8rem;
  font-weight: bold;
}

.gold-badge {
  background-color: #ffd700;
  color: #333;
}

.ai-badge {
  background-color: #667eea;
  color: white;
}

.action-buttons {
  display: flex;
  gap: 10px;
}

.comparison-select {
  padding: 8px 12px;
  border-radius: 5px;
  border: 1px solid #ddd;
  background-color: white;
  font-size: 0.9rem;
}

.export-btn {
  padding: 8px 12px;
  border-radius: 5px;
  border: 1px solid #667eea;
  background-color: white;
  color: #667eea;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 5px;
  transition: all 0.3s;
}

.export-btn:hover {
  background-color: #667eea;
  color: white;
}

.export-btn:disabled {
  background-color: #eee;
  color: #999;
  border-color: #ccc;
  cursor: not-allowed;
}

/* æ´å¯Ÿå¡ç‰‡ */
.insight-card {
  background-color: white;
  border-radius: 8px;
  padding: 15px;
  margin-bottom: 15px;
  border-left: 4px solid #667eea;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
}

.traffic-card {
  border-left-color: #4CAF50;
}

.service-card {
  border-left-color: #2196F3;
}

.customer-card {
  border-left-color: #FF9800;
}

.premium-card {
  border-left-color: #9C27B0;
  text-align: center;
  padding: 20px;
}

.card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
}

.card-icon {
  font-size: 1.2rem;
}

.tag {
  padding: 3px 8px;
  border-radius: 15px;
  font-size: 0.8rem;
  background-color: #f0f0f0;
}

.suggestion-tag {
  background-color: #e3f2fd;
  color: #1976D2;
}

.flow-tag {
  background-color: #e8f5e9;
  color: #2E7D32;
}

.marketing-tag {
  background-color: #fff8e1;
  color: #F57F17;
}

.card-content p {
  margin: 0 0 10px 0;
  color: #666;
  line-height: 1.5;
}

.premium-info {
  color: #9C27B0;
  font-weight: bold;
  font-size: 0.9rem;
}

.upgrade-prompt {
  color: #FF5722;
  font-style: italic;
}

.highlight {
  color: #FF5722;
  font-weight: bold;
}

.generate-more-btn {
  background: linear-gradient(135deg, #9C27B0 0%, #673AB7 100%);
  color: white;
  border: none;
  padding: 10px 20px;
  border-radius: 30px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
  margin: 10px auto 0;
  transition: all 0.3s;
}

.generate-more-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 5px 15px rgba(156, 39, 176, 0.4);
}

.generate-more-btn:disabled {
  background: #ccc;
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}

/* ç«äº‰å¯¹æ‰‹åˆ†æ */
.metrics-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 15px;
  margin-bottom: 20px;
}

.metric-card {
  background-color: #f9f9f9;
  border-radius: 8px;
  padding: 15px;
  text-align: center;
}

.metric-card p:first-child {
  color: #666;
  margin: 0 0 5px 0;
  font-size: 0.9rem;
}

.metric-value {
  font-size: 1.2rem;
  font-weight: bold;
  margin: 0;
}

.traffic-metric .metric-value {
  color: #4CAF50;
}

.satisfaction-metric .metric-value {
  color: #F44336;
}

.conversion-metric .metric-value {
  color: #4CAF50;
}

.awareness-metric .metric-value {
  color: #F44336;
}

.analysis-content h3 {
  color: #333;
  margin-bottom: 15px;
}

.analysis-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.analysis-list li {
  padding: 10px 15px;
  margin-bottom: 10px;
  border-radius: 5px;
  display: flex;
  align-items: flex-start;
  gap: 10px;
}

.strength {
  background-color: #e8f5e9;
  border-left: 4px solid #4CAF50;
}

.weakness {
  background-color: #ffebee;
  border-left: 4px solid #F44336;
}

.indicator {
  font-weight: bold;
  font-size: 1.2rem;
}

.strength .indicator {
  color: #4CAF50;
}

.weakness .indicator {
  color: #F44336;
}

/* å…¼èŒå²—ä½ç®¡ç† */
.part-time-jobs {
  background: white;
  border-radius: 10px;
  padding: 20px;
  box-shadow: 0 3px 15px rgba(0, 0, 0, 0.1);
  margin-bottom: 40px;
}

.jobs-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
  border-bottom: 2px solid #eee;
  padding-bottom: 10px;
}

.jobs-header h2 {
  color: #333;
  margin: 0;
}

.jobs-actions {
  display: flex;
  gap: 10px;
}

.add-job-btn {
  padding: 8px 16px;
  background-color: #667eea;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  transition: all 0.3s;
}

.add-job-btn:hover {
  background-color: #5a67d8;
}

.job-filter {
  padding: 8px 12px;
  border-radius: 5px;
  border: 1px solid #ddd;
  background-color: white;
}

/* å²—ä½è¡¨æ ¼ */
.jobs-table {
  width: 100%;
  border-collapse: collapse;
  margin-bottom: 20px;
}

.jobs-table-header {
  display: grid;
  grid-template-columns: 2fr 1fr 1fr 1fr 1fr 1fr;
  background-color: #f5f5f5;
  font-weight: bold;
}

.table-col {
  padding: 12px 15px;
}

.job-row {
  display: grid;
  grid-template-columns: 2fr 1fr 1fr 1fr 1fr 1fr;
  border-bottom: 1px solid #eee;
}

.job-row.highlighted {
  background-color: #faf6ed;
}

.job-row:hover {
  background-color: #f9f9f9;
}

.job-status .status {
  padding: 3px 8px;
  border-radius: 15px;
  font-size: 0.8rem;
}

.status.active {
  background-color: #e8f5e9;
  color: #2E7D32;
}

.status.paused {
  background-color: #fff8e1;
  color: #F57F17;
}

.job-actions {
  display: flex;
  gap: 5px;
}

.action-btn {
  background: none;
  border: none;
  cursor: pointer;
  font-size: 1rem;
  padding: 5px;
  border-radius: 5px;
  transition: all 0.3s;
}

.edit-btn {
  color: #2196F3;
}

.delete-btn {
  color: #F44336;
}

.action-btn:hover {
  background-color: #f0f0f0;
}

/* å²—ä½æ¨è */
.job-recommendations {
  background-color: #f9f9f9;
  border-radius: 8px;
  padding: 15px;
}

.recommendation-tags {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-bottom: 15px;
}

.recommendation-tags .tag {
  background-color: #e0e0e0;
}

.highlight-tag {
  background-color: #fff8e1 !important;
  color: #F57F17 !important;
}

.more-jobs-btn {
  padding: 8px 16px;
  background-color: #f0f0f0;
  border: 1px solid #ddd;
  border-radius: 5px;
  cursor: pointer;
  transition: all 0.3s;
}

.more-jobs-btn:hover {
  background-color: #e0e0e0;
}

/* æƒç›Šå¯¹æ¯”è¡¨ */
.benefits-comparison {
  margin-bottom: 40px;
}

.benefits-comparison h3 {
  font-size: 1.8rem;
  margin-bottom: 20px;
  color: #333;
  border-bottom: 2px solid #667eea;
  padding-bottom: 10px;
}

.comparison-table {
  width: 100%;
  background-color: white;
  border-radius: 10px;
  overflow: hidden;
  box-shadow: 0 3px 15px rgba(0, 0, 0, 0.1);
}

.table-header {
  display: grid;
  grid-template-columns: 2fr repeat(4, 1fr);
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  font-weight: bold;
}

.table-row {
  display: grid;
  grid-template-columns: 2fr repeat(4, 1fr);
  border-bottom: 1px solid #eee;
}

.table-row:nth-child(even) {
  background-color: #f9f9f9;
}

.table-cell {
  padding: 15px;
  text-align: center;
}

.table-cell:first-child {
  text-align: left;
  font-weight: bold;
}

.check {
  color: #4CAF50;
  font-weight: bold;
  font-size: 1.2rem;
}

.cross {
  color: #F44336;
  font-weight: bold;
  font-size: 1.2rem;
}

/* ä¼šå‘˜æ•°æ®ç»Ÿè®¡ */
.membership-stats {
  margin-bottom: 40px;
}

.membership-stats h3 {
  font-size: 1.8rem;
  margin-bottom: 20px;
  color: #333;
  border-bottom: 2px solid #667eea;
  padding-bottom: 10px;
}

.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 20px;
}

.stat-card {
  background: white;
  border-radius: 10px;
  padding: 20px;
  text-align: center;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
  border-top: 4px solid #667eea;
}

.stat-value {
  font-size: 2rem;
  font-weight: bold;
  color: #333;
  margin-bottom: 10px;
}

.stat-label {
  color: #666;
  font-size: 0.9rem;
}

/* ä¼šå‘˜å¥—é¤å¡ç‰‡ */
.membership-plans {
  margin-bottom: 40px;
}

.membership-plans h3 {
  font-size: 1.8rem;
  margin-bottom: 20px;
  color: #333;
  border-bottom: 2px solid #667eea;
  padding-bottom: 10px;
}

.plan-cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 30px;
}

.plan-card {
  background: white;
  border-radius: 10px;
  overflow: hidden;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
  transition: transform 0.3s;
  position: relative;
}

.plan-card:hover {
  transform: translateY(-10px);
}

.plan-card.featured {
  transform: scale(1.05);
  box-shadow: 0 10px 20px rgba(255, 215, 0, 0.2);
}

.plan-card.current {
  border: 2px solid #667eea;
}

.featured-badge {
  position: absolute;
  top: 20px;
  right: -30px;
  background-color: #ffd700;
  color: #333;
  padding: 5px 30px;
  font-weight: bold;
  transform: rotate(45deg);
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
}

.plan-header {
  padding: 20px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  text-align: center;
}

.phhj {
  padding-top: 40px;
}

.plan-header h4 {
  font-size: 1.5rem;
  margin-bottom: 10px;
}

.plan-price {
  font-size: 2rem;
  font-weight: bold;
}

.plan-price span {
  font-size: 1rem;
  font-weight: normal;
}

.plan-features {
  padding: 20px;
}

.plan-features ul {
  list-style: none;
  padding: 0;
  margin: 0;
}

.plan-features li {
  padding: 8px 0;
  border-bottom: 1px solid #eee;
  display: flex;
  align-items: center;
  gap: 10px;
}

.plan-features li:before {
  content: 'âœ“';
  color: #4CAF50;
  font-weight: bold;
}

.subscribe-btn {
  display: block;
  width: 100%;
  padding: 15px;
  background-color: #667eea;
  color: white;
  border: none;
  font-size: 1rem;
  font-weight: bold;
  cursor: pointer;
  transition: background-color 0.3s;
}

.subscribe-btn:hover {
  background-color: #5a67d8;
}

.plan-card.featured .subscribe-btn {
  background-color: #ffd700;
  color: #333;
}

.plan-card.featured .subscribe-btn:hover {
  background-color: #ffc107;
}

.current-plan-tag {
  display: block;
  width: 100%;
  padding: 15px;
  background-color: #4CAF50;
  color: white;
  font-size: 1rem;
  font-weight: bold;
  text-align: center;
}

/* å¼¹çª—æ ·å¼ */
.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: rgba(0, 0, 0, 0.5);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
}

.join-modal,
.upgrade-modal,
.add-job-modal,
.action-modal {
  background-color: white;
  border-radius: 10px;
  width: 90%;
  max-width: 500px;
  max-height: 90vh;
  overflow-y: auto;
}

.modal-header {
  padding: 15px 20px;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-top-left-radius: 10px;
  border-top-right-radius: 10px;
}

.modal-header h3 {
  margin: 0;
}

.close-modal {
  background: none;
  border: none;
  color: white;
  font-size: 1.5rem;
  cursor: pointer;
}

.modal-body {
  padding: 20px;
}

.modal-footer {
  padding: 15px 20px;
  border-top: 1px solid #eee;
  display: flex;
  justify-content: flex-end;
  gap: 10px;
}

.cancel-btn {
  padding: 8px 16px;
  background-color: #f0f0f0;
  border: 1px solid #ddd;
  border-radius: 5px;
  cursor: pointer;
}

.confirm-btn,
.confirm-upgrade-btn {
  padding: 8px 16px;
  background-color: #667eea;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
}

.confirm-upgrade-btn:disabled {
  background-color: #ccc;
  cursor: not-allowed;
}

/* è¡¨å•æ ·å¼ */
.join-form,
.job-form {
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.form-group {
  display: flex;
  flex-direction: column;
  gap: 5px;
}

.form-group label {
  font-weight: bold;
  font-size: 0.9rem;
}

.form-group input,
.form-group select,
.form-group textarea {
  padding: 10px;
  border: 1px solid #ddd;
  border-radius: 5px;
  font-size: 1rem;
}

.form-group textarea {
  min-height: 100px;
  resize: vertical;
}

.code-input-group {
  display: flex;
  gap: 10px;
}

.code-input-group input {
  flex: 1;
}

.send-code-btn {
  padding: 10px 15px;
  background-color: #4CAF50;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
}

/* å‡çº§é€‰é¡¹ */
.upgrade-options {
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.upgrade-option {
  padding: 15px;
  border: 2px solid #eee;
  border-radius: 8px;
  cursor: pointer;
  display: flex;
  justify-content: space-between;
  align-items: center;
  transition: all 0.3s;
}

.upgrade-option.selected {
  border-color: #667eea;
  background-color: #f0f5ff;
}

.upgrade-option:hover {
  border-color: #ccc;
}

.option-info h4 {
  margin: 0 0 5px 0;
}

.option-price {
  font-weight: bold;
  color: #667eea;
  margin: 0 0 5px 0;
}

.option-benefits {
  color: #666;
  font-size: 0.9rem;
  margin: 0;
}

.option-selector {
  font-size: 1.5rem;
  color: #4CAF50;
}

/* æ“ä½œå¼¹çª— */
.action-message {
  font-size: 1rem;
  line-height: 1.5;
  margin-bottom: 15px;
}

.action-confirm {
  background-color: #ffebee;
  padding: 10px 15px;
  border-radius: 5px;
  margin-bottom: 15px;
}

.confirm-text {
  margin: 0;
  color: #F44336;
  font-weight: bold;
}

/* æç¤ºæ¶ˆæ¯ */
.toast {
  background-color: transparent;
  position: fixed;
  top: 75px;

  z-index: 1001;
}

.toast-content {
  background-color: white;
  border-radius: 5px;
  padding: 15px;
  display: flex;
  align-items: center;
  gap: 15px;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
  min-width: 300px;
}

.toast-content.success {
  border-left: 4px solid #4CAF50;
}

.toast-content.error {
  border-left: 4px solid #F44336;
}

.toast-content.info {
  border-left: 4px solid #2196F3;
}

.toast-icon {
  font-size: 1.5rem;
}

.success .toast-icon {
  color: #4CAF50;
}

.error .toast-icon {
  color: #F44336;
}

.info .toast-icon {
  color: #2196F3;
}

.toast-message h4 {
  margin: 0 0 5px 0;
  color: #333;
}

.toast-message p {
  margin: 0;
  color: #666;
  font-size: 0.9rem;
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 1024px) {
  .intelligence-container {
    grid-template-columns: 1fr;
  }

  .plan-cards {
    grid-template-columns: 1fr;
  }

  .plan-card.featured {
    transform: none;
  }
}

@media (max-width: 768px) {
  .header h1 {
    font-size: 2rem;
  }

  .current-membership-status {
    position: static;
    margin-bottom: 15px;
    justify-content: center;
  }

  .table-header,
  .table-row {
    grid-template-columns: 2fr repeat(2, 1fr);
  }

  .table-cell:nth-child(n+4) {
    display: none;
  }

  .jobs-table-header,
  .job-row {
    grid-template-columns: 2fr 1fr 1fr;
  }

  .job-row .table-col:nth-child(n+4) {
    display: none;
  }
}

@media (max-width: 480px) {
  .btn-group {
    flex-direction: column;
    align-items: center;
  }

  .join-btn,
  .upgrade-btn {
    width: 100%;
    max-width: 250px;
  }

  .level-grid {
    grid-template-columns: 1fr;
  }

  .metrics-grid {
    grid-template-columns: 1fr;
  }

  .stats-grid {
    grid-template-columns: 1fr;
  }

  .table-header,
  .table-row {
    grid-template-columns: 1fr;
  }

  .table-cell:nth-child(n+2) {
    display: none;
  }

  .jobs-table-header,
  .job-row {
    grid-template-columns: 1fr;
  }

  .job-row .table-col:nth-child(n+2) {
    display: none;
  }
}
</style>
